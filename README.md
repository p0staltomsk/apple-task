# apple-task üçé
just task

https://github.com/p0staltomsk/apple-task

–ó–∞–¥–∞—á–∞:

(DONE ->)
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å advanced —à–∞–±–ª–æ–Ω Yii2 —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞, **–≤ backend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å** —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–∫—Ä—ã—Ç—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª 
(–¥–æ—Å—Ç—É–ø –≤ backend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è **—Ç–æ–ª—å–∫–æ –ø–æ –ø–∞—Ä–æ–ª—é** (!), —Å–ª–æ–∂–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –ø—Ä–∞–≤ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è): 

–ù–∞–ø–∏—Å–∞—Ç—å –∫–ª–∞—Å—Å/–æ–±—ä–µ–∫—Ç Apple —Å —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —è–±–ª–æ–∫ –≤ –ë–î MySql —Å–ª–µ–¥—É—è –û–û–ü –ø–∞—Ä–∞–¥–∏–≥–º–µ.

**–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫–∏, —Ñ–æ—Ä–º—ã, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω—ã –≤—Å–µ —è–±–ª–æ–∫–∏, (view)
–∫–æ—Ç–æ—Ä—ã–µ –Ω–∞ —ç—Ç–æ–π –∂–µ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –º–æ–∂–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–µ—Ä–µ–≤–∞) –≤ —Å–ª—É—á–∞–π–Ω–æ–º –∫–æ–ª-–≤–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –∫–Ω–æ–ø–∫–æ–π.

–†—è–¥–æ–º —Å –∫–∞–∂–¥—ã–º —è–±–ª–æ–∫–æ–º –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –º–µ–Ω—é, —Å—Ç–∞—Ç—É—Å—ã, —Ñ—É–Ω–∫—Ü–∏–∏ (—É—Ä–æ–Ω–∏—Ç—å, —Å—ä–µ—Å—Ç—å, –ø—Ä–æ—Ü–µ–Ω—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞).
(<-DONE)

–ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:

1) –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î —Å—Ä–∞–∑—É —á–µ—Ä–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–∏ (https://www.yiiframework.com/doc/guide/2.0/ru/db-migrations)
2) –ù–∞–ø–∏—Å–∞–Ω–∏–µ –∫–æ–¥–∞/–∫–ª–∞—Å—Å–∞/–ª–æ–≥–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

=== –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ ===

(1) Install migrations:

    m191024_102020_push_active_user     - –∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (apple-admin)
    m191024_112713_create_apples_table  - —Ç–∞–±–ª–∏—Ü–∞ —è–±–ª–æ–∫
    m191024_113408_create_colors_table  - —Ç–∞–±–ª–∏—Ü–∞ —Ü–≤–µ—Ç–æ–≤ —è–±–ª–æ–∫
    m191024_113810_create_status_table  - —Ç–∞–±–ª–∏—Ü–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ —è–±–ª–æ–∫
    
(2) Password –¥–ª—è apple-admin (–µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è):

    123123

=== –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ p0stal.tomsk ===

–û–ø–∏—Å–∞–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –∏ —ç–ª–µ–º–µ–Ω—Ç—ã –∫—Ä–µ–∞—Ç–∏–≤–∞:

    1) –ò–∫–æ–Ω–∫—É –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (favicon) –Ω–∞—Ä–∏—Å–æ–≤–∞–ª–∞ –¥–æ—á–∫–∞, –ø–æ–¥–ø—Ä–∞–≤–∏–ª –≤ https://www.favicon.cc
    
    2) –ß–µ—Ä–Ω—ã–µ —è–±–ª–æ–∫–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è –Ω–µ—É–¥–∞—á–Ω–æ —Ä–æ–∂–¥–µ–Ω–Ω—ã–º–∏ –∏–ª–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–≥–Ω–∏–≤—à–∏–º–∏ (—É–¥–∞–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –æ—Å–º–æ—Ç—Ä–µ –¥–µ—Ä–µ–≤–∞, –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
    
    3) –°–æ–∑–¥–∞–Ω–Ω–æ–µ –≤—Ä—É—á–Ω—É—é –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ —è–±–ª–æ–∫–æ ($apple = new Apple('green', 'onTree', 1.00)) 
        –Ω–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –ë–î –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, 
        –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Å–º–æ—Ç—Ä–µ–Ω–Ω–æ (echo $apple->color, echo $apple->size, echo $apple->status), 
        –∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫—É—à–µ–Ω–Ω–æ —á–∞—Å—Ç–∏—á–Ω–æ –∏–ª–∏ —Å—ä–µ–¥–µ–Ω–æ —Ü–µ–ª–∏–∫–æ–º ($apple->eat(50), $apple->eatAll()) 
        –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Å—Ç–∞—Ç—É—Å–∞ (–Ω–∞ –¥–µ—Ä–µ–≤–µ –∏–ª–∏ –Ω–∞ –∑–µ–º–ª–µ).
        
    4) –°–æ–∑–¥–∞–Ω–Ω–æ–µ –≤—Ä—É—á–Ω—É—é –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ —è–±–ª–æ–∫–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ –Ω–∞ —Ç–µ–∫—É—â–µ–º –¥–µ—Ä–µ–≤–µ, —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ $apple->saveAbstractAppleToTree();
    
    5) –†–∞–Ω–¥–æ–º–Ω–æ–µ —è–±–ª–æ–∫–æ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –¥–µ—Ä–µ–≤–∞ (\app\models\Apples::generation), —Å–æ–∑–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ $apple->newApple();  
    
    6) C—ä–µ–¥–µ–Ω–æ —Ü–µ–ª–∏–∫–æ–º –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –∫—Ä–∞—Å–Ω–æ–µ —è–±–ª–æ–∫–æ

–ó–∞–º–µ—á–∞–Ω–∏—è –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

    1) –ò–∑–±—ã—Ç–æ—á–Ω—ã–º –ø–æ–∫–∞–∑–∞–ª–æ—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Ä–∞–º–∫–∞—Ö –∑–∞–¥–∞–Ω–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö (—Ö–æ—Ç—è —è –æ–∑–Ω–∞–∫–æ–º–∏–ª—Å—è —Å –º–µ—Ç–æ–¥–∞–º–∏ rules() –∏ scenarios()), –æ–≥—Ä–∞–Ω–∏—á–∏–ª—Å—è ForeignKey (RESTRICT) –¥–ª—è —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø–æ–ª–µ–π.
    
    2) –ù–µ —Å–ª–∏—à–∫–æ–º —É–¥–∞—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–∏–¥–∂–µ—Ç ActiveForm - –≤—Å–µ–≥–æ –ª–∏—à—å –≤—ã–≤–æ–¥–∏—Ç –∫–Ω–æ–ø–∫–∏ –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –±—ã–ª–æ –≤–æ—Ç–∫–Ω—É—Ç—å –≤ view —Å—Ç–∞—Ç–∏–∫–æ–π, –Ω–æ –≤ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–µ —Ñ–æ—Ä–º—ã –Ω—É–∂–Ω—ã –Ω–∞ –ø—Ä–æ–µ–∫—Ç–µ –¥–ª—è ajax –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —Ç.–ø.
    
    3) –ù–µ —Å—á–µ–ª –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é "—Å–∫–æ–ª—å–∫–æ —Å—ä–µ–ª–∏ (%)", —Ç–∞–∫ –∫–∞–∫ –µ—Å—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–∞ –∏ –ø–æ–ª–µ —Ç–∞–±–ª–∏—Ü—ã size (—Å–∫–æ–ª—å–∫–æ —è–±–ª–æ–∫–∞ –æ—Ç —Ü–µ–ª–æ–≥–æ –æ—Å—Ç–∞–ª–æ—Å—å –≤ –Ω–∞–ª–∏—á–∏–∏).
    
    4) –¢–∞–∫ –∫–∞–∫ –¥–∞—Ç–∞ –ø–æ—è–≤–ª–µ–Ω–∏—è —è–±–ª–æ–∫–∞ —Å–ª—É—á–∞–π–Ω—ã–π unixTmeStamp, –∞ –¥–∞—Ç–∞ –ø–∞–¥–µ–Ω–∏—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, 
        –Ω–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏–≤—è–∑–∞—Ç—å —ç—Ç–æ –∫ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–π —à–∫–∞–ª–µ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞. 
        –†–µ—à–µ–Ω–æ –±—ã–ª–æ –±—ã–ª–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–∞ howLongFalled (—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤ –ª–µ–∂–∏—Ç —è–±–ª–æ–∫–æ).

=== –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª ===

–§—É–Ω–∫—Ü–∏–∏ (AppleController)

    - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–µ—Ä–µ–≤–∞ (—Ä–∞–Ω–¥–æ–º) (DONE ‚úì)    
    - —É–ø–∞—Å—Ç—å (DONE ‚úì)
    - —Å—ä–µ—Å—Ç—å ($percent - –ø—Ä–æ—Ü–µ–Ω—Ç –æ—Ç–∫—É—à–µ–Ω–Ω–æ–π —á–∞—Å—Ç–∏) (DONE ‚úì)
    - —É–¥–∞–ª–∏—Ç—å (–∫–æ–≥–¥–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å—ä–µ–¥–µ–Ω–æ) (DONE ‚úì)
    
    - –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —á–∞—Å (!) (DONE ‚úì)

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (—Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞)

    - —Ü–≤–µ—Ç (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞ —Å–ª—É—á–∞–π–Ω—ã–º) (DONE ‚úì)    
    - —Å—Ç–∞—Ç—É—Å (–Ω–∞ –¥–µ—Ä–µ–≤–µ / —É–ø–∞–ª–æ / –∏—Å–ø–æ—Ä—á–µ–Ω–Ω–æ) (DONE ‚úì)
    - –¥—Ä—É–≥–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è.
        - size (—Å–∫–æ–ª—å–∫–æ —è–±–ª–æ–∫–∞ –æ—Ç —Ü–µ–ª–æ–≥–æ –æ—Å—Ç–∞–ª–æ—Å—å –≤ –Ω–∞–ª–∏—á–∏–∏) (DONE ‚úì)
        - howLongFalled (—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤ –ª–µ–∂–∏—Ç —è–±–ª–æ–∫–æ) (DONE ‚úì)
    
    - –¥–∞—Ç–∞ –ø–æ—è–≤–ª–µ–Ω–∏—è (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞ —Å–ª—É—á–∞–π–Ω—ã–º unixTmeStamp) –Ω–µ –ø—Ä–∏–≥–æ–¥–∏–ª–æ—Å—å (DONE NOT USED ‚úì)
    - –¥–∞—Ç–∞ –ø–∞–¥–µ–Ω–∏—è (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞ —Å –¥–µ—Ä–µ–≤–∞) –Ω–µ –ø—Ä–∏–≥–æ–¥–∏–ª–æ—Å—å (DONE NOT USED ‚úì)        
    - —Å–∫–æ–ª—å–∫–æ —Å—ä–µ–ª–∏ (%) –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Å–≤–æ—Å—Ç–≤–æ–º –æ–±—ä–µ–∫—Ç–∞ (IGNORE ‚úì)

–°–æ—Å—Ç–æ—è–Ω–∏—è (status)

    - –≤–∏—Å–∏—Ç –Ω–∞ –¥–µ—Ä–µ–≤–µ (DONE ‚úì)
    - —É–ø–∞–ª–æ/–ª–µ–∂–∏—Ç –Ω–∞ –∑–µ–º–ª–µ (DONE ‚úì)
    - –≥–Ω–∏–ª–æ–µ —è–±–ª–æ–∫–æ (DONE ‚úì)

–£—Å–ª–æ–≤–∏—è (–ê–ª–≥–æ—Ä–∏—Ç–º)
    
    –ö–æ–≥–¥–∞ –≤–∏—Å–∏—Ç –Ω–∞ –¥–µ—Ä–µ–≤–µ - —Å—ä–µ—Å—Ç—å –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è. (—Å—Ç–∞—Ç—É—Å—ã) (DONE ‚úì)
    –ö–æ–≥–¥–∞ —Å—ä–µ–¥–µ–Ω–æ - —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –º–∞—Å—Å–∏–≤–∞ —è–±–ª–æ–∫. (size <= 0.00) (DONE ‚úì)
    
    –ü–æ–∫–∞ –≤–∏—Å–∏—Ç –Ω–∞ –¥–µ—Ä–µ–≤–µ - –∏—Å–ø–æ—Ä—Ç–∏—Ç—å—Å—è –Ω–µ –º–æ–∂–µ—Ç. (—Å—Ç–∞—Ç—É—Å—ã) (DONE ‚úì)
    –ü–æ—Å–ª–µ –ª–µ–∂–∞–Ω–∏—è 5 —á–∞—Å–æ–≤ - –ø–æ—Ä—Ç–∏—Ç—Å—è. (—Å—Ç–∞—Ç—É—Å + dateFalls) (DONE ‚úì)
    –ö–æ–≥–¥–∞ –∏—Å–ø–æ—Ä—á–µ–Ω–æ - —Å—ä–µ—Å—Ç—å –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è. (—Å—Ç–∞—Ç—É—Å + –∞–≤—Ç–æ—á–∏—Å—Ç–∫–∞) (DONE ‚úì)

–ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–µ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞:

    $apple = new Apple('green'); // (—Ñ—É–Ω–∫—Ü–∏—è - —Å–æ–∑–¥–∞—Ç—å —è–±–ª–æ–∫–æ) –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞—Ç—å —è–±–ª–æ–∫–æ –Ω—É–∂–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–µ–ª–µ–Ω–æ–µ (DONE ‚úì)
        echo $apple->color; // green (—Ñ—É–Ω–∫—Ü–∏—è - –æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ü–≤–µ—Ç —è–±–ª–æ–∫–∞) (DONE ‚úì)
            
    $apple->eat(50); // (—Ñ—É–Ω–∫—Ü–∏—è - –æ—Ç–∫—É—Å–∏—Ç—å –ø–æ–ª —è–±–ª–æ–∫–∞) (DONE ‚úì)
        // –ë—Ä–æ—Å–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ - –°—ä–µ—Å—Ç—å –Ω–µ–ª—å–∑—è, –µ—Å–ª–∏ —è–±–ª–æ–∫–æ –Ω–∞ –¥–µ—Ä–µ–≤–µ. (DONE ‚úì)
        echo $apple->size; // 1 - decimal (—Ñ—É–Ω–∫—Ü–∏—è - –æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —è–±–ª–æ–∫–∞) (DONE ‚úì)
        
    $apple->fallToGround(); // (—Ñ—É–Ω–∫—Ü–∏—è) —É—Ä–æ–Ω–∏—Ç—å —è–±–ª–æ–∫–æ –Ω–∞ –∑–µ–º–ª—é (DONE ‚úì)
    $apple->eat(25); // (—Ñ—É–Ω–∫—Ü–∏—è) –æ—Ç–∫—É—Å–∏—Ç—å —á–µ—Ç–≤–µ—Ä—Ç—å —è–±–ª–æ–∫–∞ (DONE ‚úì)
        echo $apple->size; // 0,75 (—Ñ—É–Ω–∫—Ü–∏—è - –æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —è–±–ª–æ–∫–∞) (DONE ‚úì)
